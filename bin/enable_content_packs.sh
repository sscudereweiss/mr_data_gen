#! /bin/bash

SPLUNK_PASSWORD=wordpass123

curl -k -u admin:$SPLUNK_PASSWORD https://localhost:8089/servicesNS/nobody/SA-ITOA/itoa_interface/content_pack/DA-ITSI-CP-nix/1.2.0/install -H "Content-Type: application/json" -X POST -d '{"resolution":"skip","content":{"kpi_base_searches":["da-itsi-cp-nix-nix-os-performance-nix-bandwidth","da-itsi-cp-nix-nix-os-performance-nix-cpu","da-itsi-cp-nix-nix-os-performance-nix-df","da-itsi-cp-nix-nix-os-performance-nix-iostat","da-itsi-cp-nix-nix-os-performance-nix-vmstat"],"service_templates":["da-itsi-cp-nix-unix-and-linux-server-health"]},"enabled":"1","saved_search_action":"enable"}'

curl -k -u admin:$SPLUNK_PASSWORD https://localhost:8089/servicesNS/nobody/SA-ITOA/itoa_interface/content_pack/DA-ITSI-CP-windows/1.2.0/install -H "Content-Type: application/json" -X POST -d '{"resolution":"skip","content":{"kpi_base_searches":["da-itsi-cp-windows-os-performance-win-cpu","da-itsi-cp-windows-os-performance-win-logicaldisk","da-itsi-cp-windows-os-performance-win-memory","da-itsi-cp-windows-os-performance-win-network","da-itsi-cp-windows-os-performance-win-physicaldisk","da-itsi-cp-windows-os-performance-win-winhostmon"],"service_templates":["da-itsi-cp-windows-windows-server-health"]},"enabled":"1","saved_search_action":"enable"}'

curl -k -u admin:$SPLUNK_PASSWORD https://localhost:8089/servicesNS/nobody/SA-ITOA/itoa_interface/content_pack/DA-ITSI-CP-vmware/1.1.1/install -H "Content-Type: application/json" -X POST -d '{"resolution":"skip","content":{"kpi_base_searches":["da-itsi-cp-vmware-vmware-vmware-datastores-capacity","da-itsi-cp-vmware-vmware-vmware-datastores-i-o","da-itsi-cp-vmware-vmware-vmware-esxi","da-itsi-cp-vmware-vmware-vmware-vcenter","da-itsi-cp-vmware-vmware-vmware-virtual-machines"],"service_templates":["da-itsi-cp-vmware-vmware-esxi-servers","da-itsi-cp-vmware-vmware-vcenter","da-itsi-cp-vmware-vmware-virtual-machines","da-itsi-cp-vmware-vmware-vsphere-datastores"]},"enabled":"1","saved_search_action":"enable"}'

curl -k -u admin:$SPLUNK_PASSWORD https://localhost:8089/servicesNS/nobody/SA-ITOA/itoa_interface/content_pack/DA-ITSI-CP-monitoring-alerting/2.3.0/install -H "Content-Type: application/json" -X POST -d '{"resolution":"skip","content":{"correlation_searches":["Episode Monitoring - All Services and KPIs Return to Normal (Deprecated)","Episode Monitoring - Concentration of High and Critical Notable Events added to Episode","Episode Monitoring - Critical Notable Event added to Episode (Recommended)","Episode Monitoring - Episode Risk Well Above Historical Average","Episode Monitoring - First Time Seen Episode","Episode Monitoring - Notable Event with Alert Attribute added to Episode","Episode Monitoring - Set Episode to Highest Alarm Severity","Service Monitoring - Degraded Service or KPI Returns to Normal","Service Monitoring - Entity Degraded","Service Monitoring - Entity for KPI with Highest (11) Importance Degraded","Service Monitoring - KPI Degraded","Service Monitoring - Rarely Degraded Service or KPI","Service Monitoring - Service Health Degraded","Service Monitoring - Sustained Entity Degradation","Service Monitoring - Sustained KPI Degradation (Recommended)","Service Monitoring - Sustained Service Health Degradation (Recommended)","Universal Correlation Search"],"event_management_states":["da-itsi-cp-monitoring-alerting-episodes-adjusted-by-episode-monitor","da-itsi-cp-monitoring-alerting-episodes-all","da-itsi-cp-monitoring-alerting-episodes-new-untriaged","da-itsi-cp-monitoring-alerting-episodes-open","da-itsi-cp-monitoring-alerting-itsi-alert-and-episode-storm-activity"],"kpi_base_searches":["da-itsi-cp-monitoring-alerting-ea-open-crit-episodes-by-status","da-itsi-cp-monitoring-alerting-ea-open-episodes-by-severity","da-itsi-cp-monitoring-alerting-ea-open-episodes-by-status","da-itsi-cp-monitoring-alerting-ea-incoming-alerts-by-severity","da-itsi-cp-monitoring-alerting-ea-incoming-alerts-by-itsi-service","da-itsi-cp-monitoring-alerting-ea-incoming-alerts-by-mon-tool","da-itsi-cp-monitoring-alerting-ea-incoming-alerts-by-signature","da-itsi-cp-monitoring-alerting-ea-incoming-alerts-by-source","da-itsi-cp-monitoring-alerting-ea-new-episodes-by-policy","da-itsi-cp-monitoring-alerting-ea-new-episodes-by-severity"],"kpi_threshold_templates":["da-itsi-cp-monitoring-alerting-ea-storm-detection-percent","da-itsi-cp-monitoring-alerting-ea-storm-detection-stddev"],"notable_event_aggregation_policies":["da-itsi-cp-monitoring-alerting-episodes-by-alarm","da-itsi-cp-monitoring-alerting-episodes-by-alert-group","da-itsi-cp-monitoring-alerting-episodes-by-itsi-service","da-itsi-cp-monitoring-alerting-episodes-by-src","da-itsi-cp-monitoring-alerting-itsi-alert-and-episode-monitoring"],"service_templates":["da-itsi-cp-monitoring-alerting-itsi-alert-analytics-template","da-itsi-cp-monitoring-alerting-itsi-episode-analytics-template"]},"enabled":"1","saved_search_action":"enable"}'

curl -k -u admin:$SPLUNK_PASSWORD https://localhost:8089/servicesNS/nobody/SA-ITOA/itoa_interface/content_pack/DA-ITSI-CP-SERVICENOW/1.1.0/install -H "Content-Type: application/json" -X POST -d '{"resolution":"skip", "content":{"entity_types":["da-itsi-cp-servicenow-snow-change-request","da-itsi-cp-servicenow-snow-cmdb","da-itsi-cp-servicenow-snow-event","da-itsi-cp-servicenow-snow-incident"],"glass_tables":["da-itsi-cp-servicenow-servicenow-change-requests-glass-table","da-itsi-cp-servicenow-servicenow-events-glass-table","da-itsi-cp-servicenow-servicenow-executive-glass-table","da-itsi-cp-servicenow-servicenow-incidents-glass-table"],"service_analyzers":["da-itsi-cp-servicenow-servicenow-service-analyzer"],"services":["da-itsi-cp-servicenow-business-applications","da-itsi-cp-servicenow-change-requests","da-itsi-cp-servicenow-events","da-itsi-cp-servicenow-incidents","da-itsi-cp-servicenow-servicenow"]}, "enabled": "1", "saved_search_action": "enable"}'

curl -k -u admin:$SPLUNK_PASSWORD https://localhost:8089/servicesNS/nobody/SA-ITOA/itoa_interface/content_pack/DA-ITSI-CP-splunk-observability/3.1.0/install -H "Content-Type: application/json" -X POST -d '{"resolution":"skip","content":{"entity_types":["da-itsi-cp-splunk-observability-aws-ec2","da-itsi-cp-splunk-observability-aws-lambda","da-itsi-cp-splunk-observability-azure-functions","da-itsi-cp-splunk-observability-azure-vm","da-itsi-cp-splunk-observability-gcp-cloud-functions","da-itsi-cp-splunk-observability-gcp-compute-engine","da-itsi-cp-splunk-observability-os-hosts","da-itsi-cp-splunk-observability-rum-app-metrics","da-itsi-cp-splunk-observability-rum-browser-metrics","da-itsi-cp-splunk-observability-rum-synthetic-metrics","da-itsi-cp-splunk-observability-splunk-infrastructure-monitoring","da-itsi-cp-splunk-observability-splunkapm","da-itsi-cp-splunk-observability-synthetic-api-test","da-itsi-cp-splunk-observability-synthetic-browser-test","da-itsi-cp-splunk-observability-synthetic-http-test"],"kpi_base_searches":["da-itsi-cp-splunk-observability-rum-app-base","da-itsi-cp-splunk-observability-rum-browser-base","da-itsi-cp-splunk-observability-rum-synthetics-base","da-itsi-cp-splunk-observability-sim-cloud-aws-ec2","da-itsi-cp-splunk-observability-sim-cloud-aws-lambda","da-itsi-cp-splunk-observability-sim-cloud-azure-functions","da-itsi-cp-splunk-observability-sim-cloud-azure-vm","da-itsi-cp-splunk-observability-sim-cloud-gcp-compute","da-itsi-cp-splunk-observability-sim-cloud-gcp-functions","da-itsi-cp-splunk-observability-sim-containers","da-itsi-cp-splunk-observability-sim-data-center-hosts","da-itsi-cp-splunk-observability-sim-kubernetes","da-itsi-cp-splunk-observability-splunkapm-rate-base-search","da-itsi-cp-splunk-observability-ssm-api-tests","da-itsi-cp-splunk-observability-ssm-browser-tests","da-itsi-cp-splunk-observability-ssm-http-tests"],"service_templates":["da-itsi-cp-splunk-observability-rum-browser-metrics","da-itsi-cp-splunk-observability-rum-browser-web-vitals","da-itsi-cp-splunk-observability-rum-mobile-app-metrics","da-itsi-cp-splunk-observability-rum-mobile-metrics","da-itsi-cp-splunk-observability-rum-synthetic-metrics","da-itsi-cp-splunk-observability-rum-synthetic-web-vitals"]},"enabled":"1","saved_search_action":"enable"}'
